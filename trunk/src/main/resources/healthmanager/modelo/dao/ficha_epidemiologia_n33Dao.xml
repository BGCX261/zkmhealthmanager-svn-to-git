<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="healthmanager.modelo.dao.Ficha_epidemiologia_n33Dao">

	<!--<typeAlias alias="ficha_epidemiologia_n33" type="healthmanager.modelo.bean.Ficha_epidemiologia_n33" />-->

	<!--<mapper resource="healthmanager/modelo/dao/xml/ficha_epidemiologia_n33SQL.xml" />-->

	<resultMap id="ficha_epidemiologia_n33Map" type="ficha_epidemiologia_n33">
		<result column="codigo_empresa" property="codigo_empresa" />
		<result column="codigo_sucursal" property="codigo_sucursal" />
		<result column="codigo_ficha" property="codigo_ficha" />
		<result column="codigo_diagnostico" property="codigo_diagnostico" />
		<result column="fecha_inicial" property="fecha_inicial" />
		<result column="identificacion" property="identificacion" />
		<result column="violecia_fisica" property="violecia_fisica" />
		<result column="privacion_negligencia" property="privacion_negligencia" />
		<result column="acoso_sexual" property="acoso_sexual" />
		<result column="eplotacion_sexual" property="eplotacion_sexual" />
		<result column="pornografia_nna" property="pornografia_nna" />
		<result column="violencia_psicologia" property="violencia_psicologia" />
		<result column="abuso_sexual" property="abuso_sexual" />
		<result column="asalto_sexual" property="asalto_sexual" />
		<result column="turismo_sexual" property="turismo_sexual" />
		<result column="trata_de_persona" property="trata_de_persona" />
		<result column="escolaridad_de_victima" property="escolaridad_de_victima" />
		<result column="factor_de_vulnerabilidad" property="factor_de_vulnerabilidad" />
		<result column="cual_factor" property="cual_factor" />
		<result column="antecedentes_hecho" property="antecedentes_hecho" />
		<result column="presencia_de_alcohol" property="presencia_de_alcohol" />
		<result column="edad_aparente" property="edad_aparente" />
		<result column="sexo_agresor" property="sexo_agresor" />
		<result column="ocupacion_del_agresor" property="ocupacion_del_agresor" />
		<result column="escolaridad_del_agresor" property="escolaridad_del_agresor" />
		<result column="familiaridad_o_parent" property="familiaridad_o_parent" />
		<result column="cual_otro_fami" property="cual_otro_fami" />
		<result column="convive_con_el_agresor" property="convive_con_el_agresor" />
		<result column="no_familiar" property="no_familiar" />
		<result column="convive_con_el_agresor2" property="convive_con_el_agresor2" />
		<result column="grupos" property="grupos" />
		<result column="cual_otro_grupo" property="cual_otro_grupo" />
		<result column="presencia_de_alcohol2" property="presencia_de_alcohol2" />
		<result column="ahorcamiento" property="ahorcamiento" />
		<result column="cortante" property="cortante" />
		<result column="inmersion" property="inmersion" />
		<result column="mordedura" property="mordedura" />
		<result column="cadidas" property="cadidas" />
		<result column="electrocucion" property="electrocucion" />
		<result column="intoxicacion" property="intoxicacion" />
		<result column="proyectil_arma" property="proyectil_arma" />
		<result column="contundente" property="contundente" />
		<result column="explosivo" property="explosivo" />
		<result column="minas_antipersona" property="minas_antipersona" />
		<result column="quemadura" property="quemadura" />
		<result column="otra" property="otra" />
		<result column="nombre_sustancia" property="nombre_sustancia" />
		<result column="cual_otra_arma" property="cual_otra_arma" />
		<result column="otros_mecanismos" property="otros_mecanismos" />
		<result column="cual_otro_meca" property="cual_otro_meca" />
		<result column="fecha_del_hecho" property="fecha_del_hecho" />
		<result column="hora_del_hecho" property="hora_del_hecho" />
		<result column="escenario" property="escenario" />
		<result column="otro" property="otro" />
		<result column="cual_otro_esc" property="cual_otro_esc" />
		<result column="zona_de_conflicto" property="zona_de_conflicto" />
		<result column="sector_que_notifica" property="sector_que_notifica" />
		<result column="cual_sector" property="cual_sector" />
		<result column="atencion_psicosocial" property="atencion_psicosocial" />
		<result column="profilaxis" property="profilaxis" />
		<result column="anticoncepcion_de_emerg" property="anticoncepcion_de_emerg" />
		<result column="orientacion_ive" property="orientacion_ive" />
		<result column="atencion_en_salud" property="atencion_en_salud" />
		<result column="informe_autoridad" property="informe_autoridad" />
		<result column="otro2" property="otro2" />
		<result column="cual_otra_accion" property="cual_otra_accion" />
		<result column="cual_autoridad" property="cual_autoridad" />
		<result column="recomendacion" property="recomendacion" />
		<result column="amerita_trabajo" property="amerita_trabajo" />
		<result column="diligenciado_por" property="diligenciado_por" />
		<result column="telefono_de_contacto" property="telefono_de_contacto" />
		<result column="via_ingreso" property="via_ingreso" />
		<result column="codigo_historia" property="codigo_historia" />
		<result column="creacion_date" property="creacion_date" />
		<result column="ultimo_update" property="ultimo_update" />
		<result column="creacion_user" property="creacion_user" />
		<result column="delete_date" property="delete_date" />
		<result column="ultimo_user" property="ultimo_user" />
		<result column="delete_user" property="delete_user" />
	</resultMap>

	<insert id="crear" parameterType="ficha_epidemiologia_n33">
		insert into public.ficha_epidemiologia_n33 (codigo_empresa,codigo_sucursal,
		codigo_ficha,codigo_diagnostico,fecha_inicial,
		identificacion,violecia_fisica,privacion_negligencia,
		acoso_sexual,eplotacion_sexual,pornografia_nna,
		violencia_psicologia,abuso_sexual,asalto_sexual,
		turismo_sexual,trata_de_persona,escolaridad_de_victima,
		factor_de_vulnerabilidad,cual_factor,antecedentes_hecho,
		presencia_de_alcohol,edad_aparente,sexo_agresor,
		ocupacion_del_agresor,escolaridad_del_agresor,familiaridad_o_parent,
		cual_otro_fami,convive_con_el_agresor,no_familiar,
		convive_con_el_agresor2,grupos,cual_otro_grupo,
		presencia_de_alcohol2,ahorcamiento,cortante,
		inmersion,mordedura,cadidas,
		electrocucion,intoxicacion,proyectil_arma,
		contundente,explosivo,minas_antipersona,
		quemadura,otra,nombre_sustancia,
		cual_otra_arma,otros_mecanismos,cual_otro_meca,
		fecha_del_hecho,hora_del_hecho,escenario,
		otro,cual_otro_esc,zona_de_conflicto,
		sector_que_notifica,cual_sector,atencion_psicosocial,
		profilaxis,anticoncepcion_de_emerg,orientacion_ive,
		atencion_en_salud,informe_autoridad,otro2,
		cual_otra_accion,cual_autoridad,recomendacion,
		amerita_trabajo,diligenciado_por,telefono_de_contacto,via_ingreso,codigo_historia,
		creacion_date,ultimo_update,creacion_user,
		delete_date,ultimo_user,delete_user)

		values (#{codigo_empresa},#{codigo_sucursal},
		#{codigo_ficha},#{codigo_diagnostico},#{fecha_inicial},
		#{identificacion},#{violecia_fisica},#{privacion_negligencia},
		#{acoso_sexual},#{eplotacion_sexual},#{pornografia_nna},
		#{violencia_psicologia},#{abuso_sexual},#{asalto_sexual},
		#{turismo_sexual},#{trata_de_persona},#{escolaridad_de_victima},
		#{factor_de_vulnerabilidad},#{cual_factor},#{antecedentes_hecho},
		#{presencia_de_alcohol},#{edad_aparente},#{sexo_agresor},
		#{ocupacion_del_agresor},#{escolaridad_del_agresor},#{familiaridad_o_parent},
		#{cual_otro_fami},#{convive_con_el_agresor},#{no_familiar},
		#{convive_con_el_agresor2},#{grupos},#{cual_otro_grupo},
		#{presencia_de_alcohol2},#{ahorcamiento},#{cortante},
		#{inmersion},#{mordedura},#{cadidas},
		#{electrocucion},#{intoxicacion},#{proyectil_arma},
		#{contundente},#{explosivo},#{minas_antipersona},
		#{quemadura},#{otra},#{nombre_sustancia},
		#{cual_otra_arma},#{otros_mecanismos},#{cual_otro_meca},
		#{fecha_del_hecho},#{hora_del_hecho},#{escenario},
		#{otro},#{cual_otro_esc},#{zona_de_conflicto},
		#{sector_que_notifica},#{cual_sector},#{atencion_psicosocial},
		#{profilaxis},#{anticoncepcion_de_emerg},#{orientacion_ive},
		#{atencion_en_salud},#{informe_autoridad},#{otro2},
		#{cual_otra_accion},#{cual_autoridad},#{recomendacion},
		#{amerita_trabajo},#{diligenciado_por},#{telefono_de_contacto},
		#{via_ingreso},#{codigo_historia},
		#{creacion_date},#{ultimo_update},#{creacion_user},
		#{delete_date},#{ultimo_user},#{delete_user})
	</insert>

	<update id="actualizar" parameterType="ficha_epidemiologia_n33">
		update public.ficha_epidemiologia_n33 set codigo_empresa = #{codigo_empresa},
		codigo_sucursal = #{codigo_sucursal},codigo_ficha = #{codigo_ficha},
		codigo_diagnostico = #{codigo_diagnostico},fecha_inicial = #{fecha_inicial},
		identificacion = #{identificacion},violecia_fisica = #{violecia_fisica},
		privacion_negligencia = #{privacion_negligencia},acoso_sexual = #{acoso_sexual},
		eplotacion_sexual = #{eplotacion_sexual},pornografia_nna = #{pornografia_nna},
		violencia_psicologia = #{violencia_psicologia},abuso_sexual = #{abuso_sexual},
		asalto_sexual = #{asalto_sexual},turismo_sexual = #{turismo_sexual},
		trata_de_persona = #{trata_de_persona},escolaridad_de_victima = #{escolaridad_de_victima},
		factor_de_vulnerabilidad = #{factor_de_vulnerabilidad},cual_factor = #{cual_factor},
		antecedentes_hecho = #{antecedentes_hecho},presencia_de_alcohol = #{presencia_de_alcohol},
		edad_aparente = #{edad_aparente},sexo_agresor = #{sexo_agresor},
		ocupacion_del_agresor = #{ocupacion_del_agresor},escolaridad_del_agresor = #{escolaridad_del_agresor},
		familiaridad_o_parent = #{familiaridad_o_parent},cual_otro_fami = #{cual_otro_fami},
		convive_con_el_agresor = #{convive_con_el_agresor},no_familiar = #{no_familiar},
		convive_con_el_agresor2 = #{convive_con_el_agresor2},grupos = #{grupos},
		cual_otro_grupo = #{cual_otro_grupo},presencia_de_alcohol2 = #{presencia_de_alcohol2},
		ahorcamiento = #{ahorcamiento},cortante = #{cortante},
		inmersion = #{inmersion},mordedura = #{mordedura},
		cadidas = #{cadidas},electrocucion = #{electrocucion},
		intoxicacion = #{intoxicacion},proyectil_arma = #{proyectil_arma},
		contundente = #{contundente},explosivo = #{explosivo},
		minas_antipersona = #{minas_antipersona},quemadura = #{quemadura},
		otra = #{otra},nombre_sustancia = #{nombre_sustancia},
		cual_otra_arma = #{cual_otra_arma},otros_mecanismos = #{otros_mecanismos},
		cual_otro_meca = #{cual_otro_meca},fecha_del_hecho = #{fecha_del_hecho},
		hora_del_hecho = #{hora_del_hecho},escenario = #{escenario},
		otro = #{otro},cual_otro_esc = #{cual_otro_esc},
		zona_de_conflicto = #{zona_de_conflicto},sector_que_notifica = #{sector_que_notifica},
		cual_sector = #{cual_sector},atencion_psicosocial = #{atencion_psicosocial},
		profilaxis = #{profilaxis},anticoncepcion_de_emerg = #{anticoncepcion_de_emerg},
		orientacion_ive = #{orientacion_ive},atencion_en_salud = #{atencion_en_salud},
		informe_autoridad = #{informe_autoridad},otro2 = #{otro2},
		cual_otra_accion = #{cual_otra_accion},cual_autoridad = #{cual_autoridad},
		recomendacion = #{recomendacion},amerita_trabajo = #{amerita_trabajo},
		diligenciado_por = #{diligenciado_por},telefono_de_contacto = #{telefono_de_contacto},
		via_ingreso = #{via_ingreso},codigo_historia = #{codigo_historia},
		creacion_date = #{creacion_date},ultimo_update = #{ultimo_update},
		creacion_user = #{creacion_user},delete_date = #{delete_date},
		ultimo_user = #{ultimo_user},delete_user = #{delete_user}
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		and codigo_ficha = #{codigo_ficha}
	</update>

	<select id="consultar" parameterType="ficha_epidemiologia_n33" resultMap="ficha_epidemiologia_n33Map">
		select codigo_empresa,codigo_sucursal,
		codigo_ficha,codigo_diagnostico,fecha_inicial,identificacion,
		violecia_fisica,privacion_negligencia,acoso_sexual,eplotacion_sexual,
		pornografia_nna,violencia_psicologia,abuso_sexual,asalto_sexual,
		turismo_sexual,trata_de_persona,escolaridad_de_victima,factor_de_vulnerabilidad,
		cual_factor,antecedentes_hecho,presencia_de_alcohol,edad_aparente,
		sexo_agresor,ocupacion_del_agresor,escolaridad_del_agresor,familiaridad_o_parent,
		cual_otro_fami,convive_con_el_agresor,no_familiar,convive_con_el_agresor2,
		grupos,cual_otro_grupo,presencia_de_alcohol2,ahorcamiento,
		cortante,inmersion,mordedura,cadidas,
		electrocucion,intoxicacion,proyectil_arma,contundente,
		explosivo,minas_antipersona,quemadura,otra,
		nombre_sustancia,cual_otra_arma,otros_mecanismos,cual_otro_meca,
		fecha_del_hecho,hora_del_hecho,escenario,otro,
		cual_otro_esc,zona_de_conflicto,sector_que_notifica,cual_sector,
		atencion_psicosocial,profilaxis,anticoncepcion_de_emerg,orientacion_ive,
		atencion_en_salud,informe_autoridad,otro2,cual_otra_accion,
		cual_autoridad,recomendacion,amerita_trabajo,diligenciado_por,
		telefono_de_contacto,via_ingreso,codigo_historia,creacion_date,ultimo_update,creacion_user,
		delete_date,ultimo_user,delete_user
		from public.ficha_epidemiologia_n33 where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and codigo_ficha = #{codigo_ficha} 
	</select>

	<delete id="eliminar" parameterType="ficha_epidemiologia_n33">
		delete from public.ficha_epidemiologia_n33
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and codigo_ficha = #{codigo_ficha}
	</delete>

	<select id="listar" parameterType="java.util.Map" resultMap="ficha_epidemiologia_n33Map">
		select codigo_empresa,codigo_sucursal,
		codigo_ficha,codigo_diagnostico,fecha_inicial,identificacion,
		violecia_fisica,privacion_negligencia,acoso_sexual,eplotacion_sexual,
		pornografia_nna,violencia_psicologia,abuso_sexual,asalto_sexual,
		turismo_sexual,trata_de_persona,escolaridad_de_victima,factor_de_vulnerabilidad,
		cual_factor,antecedentes_hecho,presencia_de_alcohol,edad_aparente,
		sexo_agresor,ocupacion_del_agresor,escolaridad_del_agresor,familiaridad_o_parent,
		cual_otro_fami,convive_con_el_agresor,no_familiar,convive_con_el_agresor2,
		grupos,cual_otro_grupo,presencia_de_alcohol2,ahorcamiento,
		cortante,inmersion,mordedura,cadidas,
		electrocucion,intoxicacion,proyectil_arma,contundente,
		explosivo,minas_antipersona,quemadura,otra,
		nombre_sustancia,cual_otra_arma,otros_mecanismos,cual_otro_meca,
		fecha_del_hecho,hora_del_hecho,escenario,otro,
		cual_otro_esc,zona_de_conflicto,sector_que_notifica,cual_sector,
		atencion_psicosocial,profilaxis,anticoncepcion_de_emerg,orientacion_ive,
		atencion_en_salud,informe_autoridad,otro2,cual_otra_accion,
		cual_autoridad,recomendacion,amerita_trabajo,diligenciado_por,
		telefono_de_contacto,via_ingreso,codigo_historia,creacion_date,ultimo_update,creacion_user,
		delete_date,ultimo_user,delete_user
		from public.ficha_epidemiologia_n33 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="identificacion != null">
			AND identificacion = #{identificacion}
			</if>
			<if test="codigo_diagnostico != null">
			AND codigo_diagnostico = #{codigo_diagnostico}
			</if>
			<if test="codigo_historia != null">
			AND codigo_historia = #{codigo_historia}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

	<select id="existe" resultType="java.lang.Boolean">
		select count(1) != 0 AS exist 		from public.ficha_epidemiologia_n33 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

</mapper>
