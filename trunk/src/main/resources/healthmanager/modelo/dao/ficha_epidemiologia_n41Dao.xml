<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="healthmanager.modelo.dao.Ficha_epidemiologia_n41Dao">

	<!--<typeAlias alias="ficha_epidemiologia_n41" type="healthmanager.modelo.bean.Ficha_epidemiologia_n41" />-->

	<!--<mapper resource="healthmanager/modelo/dao/xml/ficha_epidemiologia_n41SQL.xml" />-->

	<resultMap id="ficha_epidemiologia_n41Map" type="ficha_epidemiologia_n41">
		<result column="fecha_inicial" property="fecha_inicial" />
		<result column="codigo_empresa" property="codigo_empresa" />
		<result column="codigo_sucursal" property="codigo_sucursal" />
		<result column="codigo_ficha" property="codigo_ficha" />
		<result column="identificacion" property="identificacion" />
		<result column="codigo_diagnostico" property="codigo_diagnostico" />
		
		<result column="via_ingreso" property="via_ingreso"/>
		<result column="codigo_historia" property="codigo_historia"/>
		
		<result column="primer_nombre_paciente" property="primer_nombre_paciente" />
		<result column="segundo_nombre_paciente" property="segundo_nombre_paciente" />
		<result column="primer_apellido_paciente" property="primer_apellido_paciente" />
		<result column="segundo_apellido_paciente" property="segundo_apellido_paciente" />
		<result column="tipo_identidad" property="tipo_identidad" />
		<result column="numero_identidad" property="numero_identidad" />
		<result column="sexual" property="sexual" />
		<result column="perinatal" property="perinatal" />
		<result column="parental" property="parental" />
		<result column="tipo_prueba" property="tipo_prueba" />
		<result column="fecha_resultado" property="fecha_resultado" />
		<result column="valor_carga_viral" property="valor_carga_viral" />
		<result column="estado_clinico" property="estado_clinico" />
		<result column="num_hijos_men18_hombre" property="num_hijos_men18_hombre" />
		<result column="num_hijos_men18_mujer" property="num_hijos_men18_mujer" />
		<result column="embarazo" property="embarazo" />
		<result column="num_semana_diagnostico" property="num_semana_diagnostico" />
		<result column="candidiasis_esofagica" property="candidiasis_esofagica" />
		<result column="candidiasis_vias_aere" property="candidiasis_vias_aere" />
		<result column="tuberculosis_pulm" property="tuberculosis_pulm" />
		<result column="cancer_cerv" property="cancer_cerv" />
		<result column="tuberculosis_extrapul" property="tuberculosis_extrapul" />
		<result column="coccidiosis" property="coccidiosis" />
		<result column="citomegalovirosis" property="citomegalovirosis" />
		<result column="retinitis_citomegalovirosis" property="retinitis_citomegalovirosis" />
		<result column="encefalopatia_voi" property="encefalopatia_voi" />
		<result column="otra_micro_vacteria" property="otra_micro_vacteria" />
		<result column="otra_micro_vacteria2" property="otra_micro_vacteria2" />
		<result column="histoplasmosis_extrap" property="histoplasmosis_extrap" />
		<result column="isosporidiasis_cron" property="isosporidiasis_cron" />
		<result column="herpes_zoster" property="herpes_zoster" />
		<result column="histoplasmosis_diseminada" property="histoplasmosis_diseminada" />
		<result column="limfoma_burki" property="limfoma_burki" />
		<result column="neumonia_pneumosis" property="neumonia_pneumosis" />
		<result column="neumonia_recurrente" property="neumonia_recurrente" />
		<result column="linfoma_inmunoblastico" property="linfoma_inmunoblastico" />
		<result column="criptosporidiasis_cro" property="criptosporidiasis_cro" />
		<result column="criptosporidiasis_extrap" property="criptosporidiasis_extrap" />
		<result column="sarcoma_caposi" property="sarcoma_caposi" />
		<result column="sindrome_emaciacion" property="sindrome_emaciacion" />
		<result column="leucoencefalopatia_multifocal" property="leucoencefalopatia_multifocal" />
		<result column="septicemia_recurrente" property="septicemia_recurrente" />
		<result column="toxoplasmosis_cerebral" property="toxoplasmosis_cerebral" />
		<result column="hepatitis_b" property="hepatitis_b" />
		<result column="hepatitis_c" property="hepatitis_c" />
		<result column="tuberculosis_meningea" property="tuberculosis_meningea" />
		<result column="meningitis" property="meningitis" />
		<result column="creacion_date" property="creacion_date" />
		<result column="ultimo_update" property="ultimo_update" />
		<result column="creacion_user" property="creacion_user" />
		<result column="delete_date" property="delete_date" />
		<result column="ultimo_user" property="ultimo_user" />
		<result column="delete_user" property="delete_user" />
	</resultMap>

	<insert id="crear" parameterType="ficha_epidemiologia_n41">
		insert into public.ficha_epidemiologia_n41 (fecha_inicial,codigo_empresa,
		codigo_sucursal,codigo_ficha,identificacion,
		codigo_diagnostico,
		
		via_ingreso,codigo_historia,
		
		primer_nombre_paciente,segundo_nombre_paciente,
		primer_apellido_paciente,segundo_apellido_paciente,tipo_identidad,
		numero_identidad,sexual,perinatal,
		parental,tipo_prueba,fecha_resultado,
		valor_carga_viral,estado_clinico,num_hijos_men18_hombre,
		num_hijos_men18_mujer,embarazo,num_semana_diagnostico,
		candidiasis_esofagica,candidiasis_vias_aere,tuberculosis_pulm,
		cancer_cerv,tuberculosis_extrapul,coccidiosis,
		citomegalovirosis,retinitis_citomegalovirosis,encefalopatia_voi,
		otra_micro_vacteria,otra_micro_vacteria2,histoplasmosis_extrap,
		isosporidiasis_cron,herpes_zoster,histoplasmosis_diseminada,
		limfoma_burki,neumonia_pneumosis,neumonia_recurrente,
		linfoma_inmunoblastico,criptosporidiasis_cro,criptosporidiasis_extrap,
		sarcoma_caposi,sindrome_emaciacion,leucoencefalopatia_multifocal,
		septicemia_recurrente,toxoplasmosis_cerebral,hepatitis_b,
		hepatitis_c,tuberculosis_meningea,meningitis,
		creacion_date,ultimo_update,creacion_user,
		delete_date,ultimo_user,delete_user)

		values (#{fecha_inicial},#{codigo_empresa},
		#{codigo_sucursal},#{codigo_ficha},#{identificacion},
		#{codigo_diagnostico},
		
		#{via_ingreso},#{codigo_historia},
		
		#{primer_nombre_paciente},#{segundo_nombre_paciente},
		#{primer_apellido_paciente},#{segundo_apellido_paciente},#{tipo_identidad},
		#{numero_identidad},#{sexual},#{perinatal},
		#{parental},#{tipo_prueba},#{fecha_resultado},
		#{valor_carga_viral},#{estado_clinico},#{num_hijos_men18_hombre},
		#{num_hijos_men18_mujer},#{embarazo},#{num_semana_diagnostico},
		#{candidiasis_esofagica},#{candidiasis_vias_aere},#{tuberculosis_pulm},
		#{cancer_cerv},#{tuberculosis_extrapul},#{coccidiosis},
		#{citomegalovirosis},#{retinitis_citomegalovirosis},#{encefalopatia_voi},
		#{otra_micro_vacteria},#{otra_micro_vacteria2},#{histoplasmosis_extrap},
		#{isosporidiasis_cron},#{herpes_zoster},#{histoplasmosis_diseminada},
		#{limfoma_burki},#{neumonia_pneumosis},#{neumonia_recurrente},
		#{linfoma_inmunoblastico},#{criptosporidiasis_cro},#{criptosporidiasis_extrap},
		#{sarcoma_caposi},#{sindrome_emaciacion},#{leucoencefalopatia_multifocal},
		#{septicemia_recurrente},#{toxoplasmosis_cerebral},#{hepatitis_b},
		#{hepatitis_c},#{tuberculosis_meningea},#{meningitis},
		#{creacion_date},#{ultimo_update},#{creacion_user},
		#{delete_date},#{ultimo_user},#{delete_user})
	</insert>

	<update id="actualizar" parameterType="ficha_epidemiologia_n41">
		update public.ficha_epidemiologia_n41 set fecha_inicial = #{fecha_inicial},
		codigo_empresa = #{codigo_empresa},codigo_sucursal = #{codigo_sucursal},
		codigo_ficha = #{codigo_ficha},identificacion = #{identificacion},
		codigo_diagnostico = #{codigo_diagnostico},
		
		via_ingreso = #{via_ingreso},codigo_historia = #{codigo_historia},
		
		primer_nombre_paciente = #{primer_nombre_paciente},
		segundo_nombre_paciente = #{segundo_nombre_paciente},primer_apellido_paciente = #{primer_apellido_paciente},
		segundo_apellido_paciente = #{segundo_apellido_paciente},tipo_identidad = #{tipo_identidad},
		numero_identidad = #{numero_identidad},sexual = #{sexual},
		perinatal = #{perinatal},parental = #{parental},
		tipo_prueba = #{tipo_prueba},fecha_resultado = #{fecha_resultado},
		valor_carga_viral = #{valor_carga_viral},estado_clinico = #{estado_clinico},
		num_hijos_men18_hombre = #{num_hijos_men18_hombre},num_hijos_men18_mujer = #{num_hijos_men18_mujer},
		embarazo = #{embarazo},num_semana_diagnostico = #{num_semana_diagnostico},
		candidiasis_esofagica = #{candidiasis_esofagica},candidiasis_vias_aere = #{candidiasis_vias_aere},
		tuberculosis_pulm = #{tuberculosis_pulm},cancer_cerv = #{cancer_cerv},
		tuberculosis_extrapul = #{tuberculosis_extrapul},coccidiosis = #{coccidiosis},
		citomegalovirosis = #{citomegalovirosis},retinitis_citomegalovirosis = #{retinitis_citomegalovirosis},
		encefalopatia_voi = #{encefalopatia_voi},otra_micro_vacteria = #{otra_micro_vacteria},
		otra_micro_vacteria2 = #{otra_micro_vacteria2},histoplasmosis_extrap = #{histoplasmosis_extrap},
		isosporidiasis_cron = #{isosporidiasis_cron},herpes_zoster = #{herpes_zoster},
		histoplasmosis_diseminada = #{histoplasmosis_diseminada},limfoma_burki = #{limfoma_burki},
		neumonia_pneumosis = #{neumonia_pneumosis},neumonia_recurrente = #{neumonia_recurrente},
		linfoma_inmunoblastico = #{linfoma_inmunoblastico},criptosporidiasis_cro = #{criptosporidiasis_cro},
		criptosporidiasis_extrap = #{criptosporidiasis_extrap},sarcoma_caposi = #{sarcoma_caposi},
		sindrome_emaciacion = #{sindrome_emaciacion},leucoencefalopatia_multifocal = #{leucoencefalopatia_multifocal},
		septicemia_recurrente = #{septicemia_recurrente},toxoplasmosis_cerebral = #{toxoplasmosis_cerebral},
		hepatitis_b = #{hepatitis_b},hepatitis_c = #{hepatitis_c},
		tuberculosis_meningea = #{tuberculosis_meningea},meningitis = #{meningitis},
		creacion_date = #{creacion_date},ultimo_update = #{ultimo_update},
		creacion_user = #{creacion_user},delete_date = #{delete_date},
		ultimo_user = #{ultimo_user},delete_user = #{delete_user}
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		and codigo_ficha = #{codigo_ficha}
	</update>

	<select id="consultar" parameterType="ficha_epidemiologia_n41" resultMap="ficha_epidemiologia_n41Map">
		select fecha_inicial,codigo_empresa,
		codigo_sucursal,codigo_ficha,identificacion,codigo_diagnostico,
		
		via_ingreso,codigo_historia,
		
		primer_nombre_paciente,segundo_nombre_paciente,primer_apellido_paciente,segundo_apellido_paciente,
		tipo_identidad,numero_identidad,sexual,perinatal,
		parental,tipo_prueba,fecha_resultado,valor_carga_viral,
		estado_clinico,num_hijos_men18_hombre,num_hijos_men18_mujer,embarazo,
		num_semana_diagnostico,candidiasis_esofagica,candidiasis_vias_aere,tuberculosis_pulm,
		cancer_cerv,tuberculosis_extrapul,coccidiosis,citomegalovirosis,
		retinitis_citomegalovirosis,encefalopatia_voi,otra_micro_vacteria,otra_micro_vacteria2,
		histoplasmosis_extrap,isosporidiasis_cron,herpes_zoster,histoplasmosis_diseminada,
		limfoma_burki,neumonia_pneumosis,neumonia_recurrente,linfoma_inmunoblastico,
		criptosporidiasis_cro,criptosporidiasis_extrap,sarcoma_caposi,sindrome_emaciacion,
		leucoencefalopatia_multifocal,septicemia_recurrente,toxoplasmosis_cerebral,hepatitis_b,
		hepatitis_c,tuberculosis_meningea,meningitis,creacion_date,
		ultimo_update,creacion_user,delete_date,ultimo_user,
		delete_user
		from public.ficha_epidemiologia_n41 where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and codigo_ficha = #{codigo_ficha} 
	</select>

	<delete id="eliminar" parameterType="ficha_epidemiologia_n41">
		delete from public.ficha_epidemiologia_n41
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and codigo_ficha = #{codigo_ficha}
	</delete>

	<select id="listar" parameterType="java.util.Map" resultMap="ficha_epidemiologia_n41Map">
		select fecha_inicial,codigo_empresa,
		codigo_sucursal,codigo_ficha,identificacion,codigo_diagnostico,
		
		via_ingreso,codigo_historia,
		
		primer_nombre_paciente,segundo_nombre_paciente,primer_apellido_paciente,segundo_apellido_paciente,
		tipo_identidad,numero_identidad,sexual,perinatal,
		parental,tipo_prueba,fecha_resultado,valor_carga_viral,
		estado_clinico,num_hijos_men18_hombre,num_hijos_men18_mujer,embarazo,
		num_semana_diagnostico,candidiasis_esofagica,candidiasis_vias_aere,tuberculosis_pulm,
		cancer_cerv,tuberculosis_extrapul,coccidiosis,citomegalovirosis,
		retinitis_citomegalovirosis,encefalopatia_voi,otra_micro_vacteria,otra_micro_vacteria2,
		histoplasmosis_extrap,isosporidiasis_cron,herpes_zoster,histoplasmosis_diseminada,
		limfoma_burki,neumonia_pneumosis,neumonia_recurrente,linfoma_inmunoblastico,
		criptosporidiasis_cro,criptosporidiasis_extrap,sarcoma_caposi,sindrome_emaciacion,
		leucoencefalopatia_multifocal,septicemia_recurrente,toxoplasmosis_cerebral,hepatitis_b,
		hepatitis_c,tuberculosis_meningea,meningitis,creacion_date,
		ultimo_update,creacion_user,delete_date,ultimo_user,
		delete_user
		from public.ficha_epidemiologia_n41 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="identificacion != null">
			AND identificacion = #{identificacion}
			</if>
			<if test="codigo_diagnostico != null">
			AND codigo_diagnostico = #{codigo_diagnostico}
			</if>
			<if test="codigo_historia != null">
			AND codigo_historia = #{codigo_historia}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

	<select id="existe" resultType="java.lang.Boolean">
		select count(1) != 0 AS exist 		from public.ficha_epidemiologia_n41 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

</mapper>
