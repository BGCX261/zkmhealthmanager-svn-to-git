<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="healthmanager.modelo.dao.FurtranDao">

	<resultMap id="furtranMap" type="furtran">
		<result column="codigo_empresa" property="codigo_empresa" />
		<result column="codigo_sucursal" property="codigo_sucursal" />
		<result column="consecutivo" property="consecutivo" />
		<result column="fecha_creacion" property="fecha_creacion" />
		<result column="fecha_entrega" property="fecha_entrega" />
		<result column="radicado_anterior" property="radicado_anterior" />
		<result column="respuesta_glosa" property="respuesta_glosa" />
		<result column="radicado_nuevo" property="radicado_nuevo" />
		<result column="nombre_empresa" property="nombre_empresa" />
		<result column="codigo_habilitacion" property="codigo_habilitacion" />
		<result column="nombre_persona1" property="nombre_persona1" />
		<result column="nombre_persona2" property="nombre_persona2" />
		<result column="apellido_persona1" property="apellido_persona1" />
		<result column="apellido_persona2" property="apellido_persona2" />
		<result column="tipo_identificacion" property="tipo_identificacion" />
		<result column="nro_identificacion" property="nro_identificacion" />
		<result column="servicio_empresa" property="servicio_empresa" />
		<result column="servicio_natural" property="servicio_natural" />
		<result column="otro_servicio" property="otro_servicio" />
		<result column="placa" property="placa" />
		<result column="direccion" property="direccion" />
		<result column="telefono" property="telefono" />
		<result column="departamento" property="departamento" />
		<result column="municipio" property="municipio" />
		<result column="tipo_identificacion_permitido" property="tipo_identificacion_permitido" />
		<result column="tipo_doc_victima1" property="tipo_doc_victima1" />
		<result column="nro_victima1" property="nro_victima1" />
		<result column="nombre1_victima1" property="nombre1_victima1" />
		<result column="nombre2_victima1" property="nombre2_victima1" />
		<result column="apellido1_victima1" property="apellido1_victima1" />
		<result column="apellido2_victima1" property="apellido2_victima1" />
		<result column="tipo_doc_victima2" property="tipo_doc_victima2" />
		<result column="nro_victima2" property="nro_victima2" />
		<result column="nombre1_victima2" property="nombre1_victima2" />
		<result column="nombre2_victima2" property="nombre2_victima2" />
		<result column="apellido1_victima2" property="apellido1_victima2" />
		<result column="apellido2_victima2" property="apellido2_victima2" />
		<result column="tipo_doc_victima3" property="tipo_doc_victima3" />
		<result column="nro_victima3" property="nro_victima3" />
		<result column="nombre1_victima3" property="nombre1_victima3" />
		<result column="nombre2_victima3" property="nombre2_victima3" />
		<result column="apellido1_victima3" property="apellido1_victima3" />
		<result column="apellido2_victima3" property="apellido2_victima3" />
		<result column="tipo_doc_victima4" property="tipo_doc_victima4" />
		<result column="nro_victima4" property="nro_victima4" />
		<result column="nombre1_victima4" property="nombre1_victima4" />
		<result column="nombre2_victima4" property="nombre2_victima4" />
		<result column="apellido1_victima4" property="apellido1_victima4" />
		<result column="apellido2_victima4" property="apellido2_victima4" />
		<result column="tipo_doc_victima5" property="tipo_doc_victima5" />
		<result column="nro_victima5" property="nro_victima5" />
		<result column="nombre1_victima5" property="nombre1_victima5" />
		<result column="nombre2_victima5" property="nombre2_victima5" />
		<result column="apellido1_victima5" property="apellido1_victima5" />
		<result column="apellido2_victima5" property="apellido2_victima5" />
		<result column="direccion_victima" property="direccion_victima" />
		<result column="zona_victima" property="zona_victima" />
		<result column="departamento_victima" property="departamento_victima" />
		<result column="municipio_victima" property="municipio_victima" />
		<result column="fecha_traslado" property="fecha_traslado" />
		<result column="hora_traslado" property="hora_traslado" />
		<result column="nombre_ips" property="nombre_ips" />
		<result column="nit" property="nit" />
		<result column="cod_habilitacion_ips" property="cod_habilitacion_ips" />
		<result column="direccion_traslado" property="direccion_traslado" />
		<result column="telefono_traslado" property="telefono_traslado" />
		<result column="departamento_traslado" property="departamento_traslado" />
		<result column="municipio_traslado" property="municipio_traslado" />
		<result column="codigo_representante" property="codigo_representante" />
		<result column="creacion_date" property="creacion_date" />
		<result column="ultimo_update" property="ultimo_update" />
		<result column="creacion_user" property="creacion_user" />
		<result column="delete_date" property="delete_date" />
		<result column="ultimo_user" property="ultimo_user" />
		<result column="delete_user" property="delete_user" />
		<result column="nro_ingreso" property="nro_ingreso" />
	</resultMap>

	<insert id="crear" parameterType="furtran">
		insert into public.furtran (codigo_empresa,codigo_sucursal,
		consecutivo,fecha_creacion,fecha_entrega,
		radicado_anterior,respuesta_glosa,radicado_nuevo,
		nombre_empresa,codigo_habilitacion,nombre_persona1,
		nombre_persona2,apellido_persona1,apellido_persona2,
		tipo_identificacion,nro_identificacion,servicio_empresa,
		servicio_natural,otro_servicio,placa,
		direccion,telefono,departamento,
		municipio,tipo_identificacion_permitido,tipo_doc_victima1,
		nro_victima1,nombre1_victima1,nombre2_victima1,
		apellido1_victima1,apellido2_victima1,tipo_doc_victima2,
		nro_victima2,nombre1_victima2,nombre2_victima2,
		apellido1_victima2,apellido2_victima2,tipo_doc_victima3,
		nro_victima3,nombre1_victima3,nombre2_victima3,
		apellido1_victima3,apellido2_victima3,tipo_doc_victima4,
		nro_victima4,nombre1_victima4,nombre2_victima4,
		apellido1_victima4,apellido2_victima4,tipo_doc_victima5,
		nro_victima5,nombre1_victima5,nombre2_victima5,
		apellido1_victima5,apellido2_victima5,direccion_victima,
		zona_victima,departamento_victima,municipio_victima,
		fecha_traslado,hora_traslado,nombre_ips,
		nit,cod_habilitacion_ips,direccion_traslado,
		telefono_traslado,departamento_traslado,municipio_traslado,
		codigo_representante,creacion_date,ultimo_update,
		creacion_user,delete_date,ultimo_user,
		delete_user,nro_ingreso)

		values (#{codigo_empresa},#{codigo_sucursal},
		#{consecutivo},#{fecha_creacion},#{fecha_entrega},
		#{radicado_anterior},#{respuesta_glosa},#{radicado_nuevo},
		#{nombre_empresa},#{codigo_habilitacion},#{nombre_persona1},
		#{nombre_persona2},#{apellido_persona1},#{apellido_persona2},
		#{tipo_identificacion},#{nro_identificacion},#{servicio_empresa},
		#{servicio_natural},#{otro_servicio},#{placa},
		#{direccion},#{telefono},#{departamento},
		#{municipio},#{tipo_identificacion_permitido},#{tipo_doc_victima1},
		#{nro_victima1},#{nombre1_victima1},#{nombre2_victima1},
		#{apellido1_victima1},#{apellido2_victima1},#{tipo_doc_victima2},
		#{nro_victima2},#{nombre1_victima2},#{nombre2_victima2},
		#{apellido1_victima2},#{apellido2_victima2},#{tipo_doc_victima3},
		#{nro_victima3},#{nombre1_victima3},#{nombre2_victima3},
		#{apellido1_victima3},#{apellido2_victima3},#{tipo_doc_victima4},
		#{nro_victima4},#{nombre1_victima4},#{nombre2_victima4},
		#{apellido1_victima4},#{apellido2_victima4},#{tipo_doc_victima5},
		#{nro_victima5},#{nombre1_victima5},#{nombre2_victima5},
		#{apellido1_victima5},#{apellido2_victima5},#{direccion_victima},
		#{zona_victima},#{departamento_victima},#{municipio_victima},
		#{fecha_traslado},#{hora_traslado},#{nombre_ips},
		#{nit},#{cod_habilitacion_ips},#{direccion_traslado},
		#{telefono_traslado},#{departamento_traslado},#{municipio_traslado},
		#{codigo_representante},#{creacion_date},#{ultimo_update},
		#{creacion_user},#{delete_date},#{ultimo_user},
		#{delete_user},#{nro_ingreso})
	</insert>

	<update id="actualizar" parameterType="furtran">
		update public.furtran set codigo_empresa = #{codigo_empresa},
		codigo_sucursal = #{codigo_sucursal},consecutivo = #{consecutivo},
		fecha_creacion = #{fecha_creacion},fecha_entrega = #{fecha_entrega},
		radicado_anterior = #{radicado_anterior},respuesta_glosa = #{respuesta_glosa},
		radicado_nuevo = #{radicado_nuevo},nombre_empresa = #{nombre_empresa},
		codigo_habilitacion = #{codigo_habilitacion},nombre_persona1 = #{nombre_persona1},
		nombre_persona2 = #{nombre_persona2},apellido_persona1 = #{apellido_persona1},
		apellido_persona2 = #{apellido_persona2},tipo_identificacion = #{tipo_identificacion},
		nro_identificacion = #{nro_identificacion},servicio_empresa = #{servicio_empresa},
		servicio_natural = #{servicio_natural},otro_servicio = #{otro_servicio},
		placa = #{placa},direccion = #{direccion},
		telefono = #{telefono},departamento = #{departamento},
		municipio = #{municipio},tipo_identificacion_permitido = #{tipo_identificacion_permitido},
		tipo_doc_victima1 = #{tipo_doc_victima1},nro_victima1 = #{nro_victima1},
		nombre1_victima1 = #{nombre1_victima1},nombre2_victima1 = #{nombre2_victima1},
		apellido1_victima1 = #{apellido1_victima1},apellido2_victima1 = #{apellido2_victima1},
		tipo_doc_victima2 = #{tipo_doc_victima2},nro_victima2 = #{nro_victima2},
		nombre1_victima2 = #{nombre1_victima2},nombre2_victima2 = #{nombre2_victima2},
		apellido1_victima2 = #{apellido1_victima2},apellido2_victima2 = #{apellido2_victima2},
		tipo_doc_victima3 = #{tipo_doc_victima3},nro_victima3 = #{nro_victima3},
		nombre1_victima3 = #{nombre1_victima3},nombre2_victima3 = #{nombre2_victima3},
		apellido1_victima3 = #{apellido1_victima3},apellido2_victima3 = #{apellido2_victima3},
		tipo_doc_victima4 = #{tipo_doc_victima4},nro_victima4 = #{nro_victima4},
		nombre1_victima4 = #{nombre1_victima4},nombre2_victima4 = #{nombre2_victima4},
		apellido1_victima4 = #{apellido1_victima4},apellido2_victima4 = #{apellido2_victima4},
		tipo_doc_victima5 = #{tipo_doc_victima5},nro_victima5 = #{nro_victima5},
		nombre1_victima5 = #{nombre1_victima5},nombre2_victima5 = #{nombre2_victima5},
		apellido1_victima5 = #{apellido1_victima5},apellido2_victima5 = #{apellido2_victima5},
		direccion_victima = #{direccion_victima},zona_victima = #{zona_victima},
		departamento_victima = #{departamento_victima},municipio_victima = #{municipio_victima},
		fecha_traslado = #{fecha_traslado},hora_traslado = #{hora_traslado},
		nombre_ips = #{nombre_ips},nit = #{nit},
		cod_habilitacion_ips = #{cod_habilitacion_ips},direccion_traslado = #{direccion_traslado},
		telefono_traslado = #{telefono_traslado},departamento_traslado = #{departamento_traslado},
		municipio_traslado = #{municipio_traslado},codigo_representante = #{codigo_representante},
		creacion_date = #{creacion_date},ultimo_update = #{ultimo_update},
		creacion_user = #{creacion_user},delete_date = #{delete_date},
		ultimo_user = #{ultimo_user},delete_user = #{delete_user},
		nro_ingreso = #{nro_ingreso}
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		and consecutivo = #{consecutivo}
	</update>

	<select id="consultar" parameterType="furtran" resultMap="furtranMap">
		select codigo_empresa,codigo_sucursal,
		consecutivo,fecha_creacion,fecha_entrega,radicado_anterior,
		respuesta_glosa,radicado_nuevo,nombre_empresa,codigo_habilitacion,
		nombre_persona1,nombre_persona2,apellido_persona1,apellido_persona2,
		tipo_identificacion,nro_identificacion,servicio_empresa,servicio_natural,
		otro_servicio,placa,direccion,telefono,
		departamento,municipio,tipo_identificacion_permitido,tipo_doc_victima1,
		nro_victima1,nombre1_victima1,nombre2_victima1,apellido1_victima1,
		apellido2_victima1,tipo_doc_victima2,nro_victima2,nombre1_victima2,
		nombre2_victima2,apellido1_victima2,apellido2_victima2,tipo_doc_victima3,
		nro_victima3,nombre1_victima3,nombre2_victima3,apellido1_victima3,
		apellido2_victima3,tipo_doc_victima4,nro_victima4,nombre1_victima4,
		nombre2_victima4,apellido1_victima4,apellido2_victima4,tipo_doc_victima5,
		nro_victima5,nombre1_victima5,nombre2_victima5,apellido1_victima5,
		apellido2_victima5,direccion_victima,zona_victima,departamento_victima,
		municipio_victima,fecha_traslado,hora_traslado,nombre_ips,
		nit,cod_habilitacion_ips,direccion_traslado,telefono_traslado,
		departamento_traslado,municipio_traslado,codigo_representante,creacion_date,
		ultimo_update,creacion_user,delete_date,ultimo_user,
		delete_user,nro_ingreso
		from public.furtran where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and consecutivo = #{consecutivo}
	</select>

	<delete id="eliminar" parameterType="furtran">
		delete from public.furtran
		where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and consecutivo = #{consecutivo}
	</delete>

	<select id="listar" parameterType="java.util.Map" resultMap="furtranMap">
		select codigo_empresa,codigo_sucursal,
		consecutivo,fecha_creacion,fecha_entrega,radicado_anterior,
		respuesta_glosa,radicado_nuevo,nombre_empresa,codigo_habilitacion,
		nombre_persona1,nombre_persona2,apellido_persona1,apellido_persona2,
		tipo_identificacion,nro_identificacion,servicio_empresa,servicio_natural,
		otro_servicio,placa,direccion,telefono,
		departamento,municipio,tipo_identificacion_permitido,tipo_doc_victima1,
		nro_victima1,nombre1_victima1,nombre2_victima1,apellido1_victima1,
		apellido2_victima1,tipo_doc_victima2,nro_victima2,nombre1_victima2,
		nombre2_victima2,apellido1_victima2,apellido2_victima2,tipo_doc_victima3,
		nro_victima3,nombre1_victima3,nombre2_victima3,apellido1_victima3,
		apellido2_victima3,tipo_doc_victima4,nro_victima4,nombre1_victima4,
		nombre2_victima4,apellido1_victima4,apellido2_victima4,tipo_doc_victima5,
		nro_victima5,nombre1_victima5,nombre2_victima5,apellido1_victima5,
		apellido2_victima5,direccion_victima,zona_victima,departamento_victima,
		municipio_victima,fecha_traslado,hora_traslado,nombre_ips,
		nit,cod_habilitacion_ips,direccion_traslado,telefono_traslado,
		departamento_traslado,municipio_traslado,codigo_representante,creacion_date,
		ultimo_update,creacion_user,delete_date,ultimo_user,
		delete_user,nro_ingreso
		from public.furtran 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
			
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

	<select id="existe" resultType="java.lang.Boolean">
		select count(1) != 0 AS exist 		from public.furtran 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>
	
	<select id="consultarPorParametros" parameterType="furtran" resultMap="furtranMap">
		select codigo_empresa,codigo_sucursal,
		consecutivo,fecha_creacion,fecha_entrega,radicado_anterior,
		respuesta_glosa,radicado_nuevo,nombre_empresa,codigo_habilitacion,
		nombre_persona1,nombre_persona2,apellido_persona1,apellido_persona2,
		tipo_identificacion,nro_identificacion,servicio_empresa,servicio_natural,
		otro_servicio,placa,direccion,telefono,
		departamento,municipio,tipo_identificacion_permitido,tipo_doc_victima1,
		nro_victima1,nombre1_victima1,nombre2_victima1,apellido1_victima1,
		apellido2_victima1,tipo_doc_victima2,nro_victima2,nombre1_victima2,
		nombre2_victima2,apellido1_victima2,apellido2_victima2,tipo_doc_victima3,
		nro_victima3,nombre1_victima3,nombre2_victima3,apellido1_victima3,
		apellido2_victima3,tipo_doc_victima4,nro_victima4,nombre1_victima4,
		nombre2_victima4,apellido1_victima4,apellido2_victima4,tipo_doc_victima5,
		nro_victima5,nombre1_victima5,nombre2_victima5,apellido1_victima5,
		apellido2_victima5,direccion_victima,zona_victima,departamento_victima,
		municipio_victima,fecha_traslado,hora_traslado,nombre_ips,
		nit,cod_habilitacion_ips,direccion_traslado,telefono_traslado,
		departamento_traslado,municipio_traslado,codigo_representante,creacion_date,
		ultimo_update,creacion_user,delete_date,ultimo_user,
		delete_user,nro_ingreso
		from public.furtran where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		<if test="consecutivo != null">
		    AND consecutivo = #{consecutivo}
		</if>
		<if test="nro_ingreso != null">
		    AND nro_ingreso = #{nro_ingreso}
		</if>
		<if test="nro_identificacion != null">
		    AND nro_identificacion = #{nro_identificacion}
		</if>
	</select>

</mapper>
