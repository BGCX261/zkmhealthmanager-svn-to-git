<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="healthmanager.modelo.dao.Hisc_aiepi_mn_2_mesesDao">
	<resultMap id="hisc_aiepi_mn_2_mesesMap" type="hisc_aiepi_mn_2_meses">
		<result column="codigo_empresa" property="codigo_empresa" />
		<result column="codigo_sucursal" property="codigo_sucursal" />
		<result column="codigo_historia" property="codigo_historia" />
		<result column="identificacion" property="identificacion" />
		<result column="fecha_inicial" property="fecha_inicial" />
		<result column="nro_ingreso" property="nro_ingreso" />
		<result column="nombres_acompanante" property="nombres_acompanante" />
		<result column="apellidos_acompanante" property="apellidos_acompanante" />
		<result column="parentesco_acompanante" property="parentesco_acompanante" />
		<result column="direccion_acompanante" property="direccion_acompanante" />
		<result column="telefono_acompanante" property="telefono_acompanante" />
		<result column="nombres_padre" property="nombres_padre" />
		<result column="apellidos_padre" property="apellidos_padre" />
		<result column="ocupacion_padre" property="ocupacion_padre" />
		<result column="edad_padre" property="edad_padre" />
		<result column="nombres_madre" property="nombres_madre" />
		<result column="apellidos_madre" property="apellidos_madre" />
		<result column="ocupacion_madre" property="ocupacion_madre" />
		<result column="edad_madre" property="edad_madre" />
		<result column="motivo_consulta" property="motivo_consulta" />
		<result column="enfermedad_actual" property="enfermedad_actual" />
		<result column="nino_registrado" property="nino_registrado" />
		<result column="ant_pat_como_fue_embarazo" property="ant_pat_como_fue_embarazo" />
		<result column="ant_pat_cuanto_duro_embarazo" property="ant_pat_cuanto_duro_embarazo" />
		<result column="ant_pat_hemoclasificacion" property="ant_pat_hemoclasificacion" />
		<result column="ant_pat_como_fue_parto" property="ant_pat_como_fue_parto" />
		<result column="ant_pat_cuanto_peso_nacer" property="ant_pat_cuanto_peso_nacer" />
		<result column="ant_pat_cuanto_midio_nacer" property="ant_pat_cuanto_midio_nacer" />
		<result column="ant_pat_presento_problema_nacer" property="ant_pat_presento_problema_nacer" />
		<result column="ant_pat_enfermedades" property="ant_pat_enfermedades" />
		<result column="signos_vitales_peso" property="signos_vitales_peso" />
		<result column="signos_vitales_talla" property="signos_vitales_talla" />
		<result column="signos_vitales_pc" property="signos_vitales_pc" />
		<result column="signos_vitales_fc" property="signos_vitales_fc" />
		<result column="signos_vitales_fr" property="signos_vitales_fr" />
		<result column="signos_vitales_taxilar" property="signos_vitales_taxilar" />
		<result column="signos_vitales_oximetria" property="signos_vitales_oximetria" />
		<result column="signos_vitales_imc" property="signos_vitales_imc" />
		<result column="signos_vitales_sintomaticos_respiratorio" property="signos_vitales_sintomaticos_respiratorio" />
		<result column="signos_vitales_sintomaticos_piel" property="signos_vitales_sintomaticos_piel" />
		<result column="signos_vitales_p_e_de" property="signos_vitales_p_e_de" />
		<result column="signos_vitales_t_e_de" property="signos_vitales_t_e_de" />
		<result column="signos_vitales_p_t_de" property="signos_vitales_p_t_de" />
		<result column="signos_vitales_pc_e_de" property="signos_vitales_pc_e_de" />
		<result column="tiene_nino_diarrea" property="tiene_nino_diarrea" />
		<result column="vacunales_madre_antitetanica1" property="vacunales_madre_antitetanica1" />
		<result column="vacunales_madre_antitetanica2" property="vacunales_madre_antitetanica2" />
		<result column="vacunales_madre_otras_vacunas" property="vacunales_madre_otras_vacunas" />
		<result column="vacunales_madre_proxima_vacuna" property="vacunales_madre_proxima_vacuna" />
		<result column="vacunales_nino_bcg" property="vacunales_nino_bcg" />
		<result column="vacunales_nino_hepb1" property="vacunales_nino_hepb1" />
		<result column="vacunales_nino_proxima_vacuna" property="vacunales_nino_proxima_vacuna" />
		<result column="recomendaciones_dadas_volver_de_inmediato" property="recomendaciones_dadas_volver_de_inmediato" />
		<result column="volver_consulta_control" property="volver_consulta_control" />
		<result column="volver_consulta_nino_sano" property="volver_consulta_nino_sano" />
		<result column="referido_consulta" property="referido_consulta" />
		<result column="medidas_preventivas_espesificas" property="medidas_preventivas_espesificas" />
		<result column="recomendaciones_buen_trato" property="recomendaciones_buen_trato" />
		<result column="recomendaciones_adecuada_lactancia_materna" property="recomendaciones_adecuada_lactancia_materna" />
		<result column="reconendaciones_adecuada_lactancia_materna_cuales" property="reconendaciones_adecuada_lactancia_materna_cuales" />
		<result column="prestador" property="prestador" />
		<result column="codigo_historia_anterior" property="codigo_historia_anterior" />
		<result column="tipo_historia" property="tipo_historia" />
		<result column="creacion_date" property="creacion_date" />
		<result column="creacion_user" property="creacion_user" />
		<result column="delete_date" property="delete_date" />
		<result column="delete_user" property="delete_user" />
		<result column="ultimo_update" property="ultimo_update" />
		<result column="ultimo_user" property="ultimo_user" />
		<result column="observaciones_cuadro1" property="observaciones_cuadro1" />
		<result column="observaciones_cuadro2" property="observaciones_cuadro2" />
		<result column="observaciones_cuadro3" property="observaciones_cuadro3" />
		<result column="observaciones_cuadro4" property="observaciones_cuadro4" />
		<result column = "abdomen_enf" property = "abdomen_enf" />
		<result column = "cabeza_enf" property = "cabeza_enf" />
		<result column = "cuello_enf" property = "cuello_enf" />
		<result column = "toraz_enf" property = "toraz_enf" />
		<result column = "intensidad" property = "intensidad" />
		<result column = "actualmente_presenta" property = "actualmente_presenta" />
		<result column = "caracteristicas_dolor" property = "caracteristicas_dolor" />
		<result column = "evolucion" property = "evolucion" />
		<result column = "fecha_inicio" property = "fecha_inicio" />
		<result column = "irradiacion" property = "irradiacion" />
		<result column = "localizacion" property = "localizacion" />
		<result column = "manera_form_inicio" property = "manera_form_inicio" />
		<result column = "parrafo_enfermedad_actual" property = "parrafo_enfermedad_actual" />
		<result column = "relacionado" property = "relacionado" />
		<result column = "sintomas_asociados" property = "sintomas_asociados" />
		<result column = "tratamiento_recibido" property = "tratamiento_recibido" />
		<result column = "primera_presentacion" property = "primera_presentacion" />
	</resultMap>

	<insert id="crear" parameterType="hisc_aiepi_mn_2_meses">
		insert into public.hisc_aiepi_mn_2_meses (codigo_empresa,codigo_sucursal,
		codigo_historia,identificacion,fecha_inicial,
		nro_ingreso,nombres_acompanante,apellidos_acompanante,
		parentesco_acompanante,direccion_acompanante,telefono_acompanante,
		nombres_padre,apellidos_padre,ocupacion_padre,
		edad_padre,nombres_madre,apellidos_madre,
		ocupacion_madre,edad_madre,motivo_consulta,
		enfermedad_actual,nino_registrado,ant_pat_como_fue_embarazo,
		ant_pat_cuanto_duro_embarazo,ant_pat_hemoclasificacion,ant_pat_como_fue_parto,
		ant_pat_cuanto_peso_nacer,ant_pat_cuanto_midio_nacer,ant_pat_presento_problema_nacer,
		ant_pat_enfermedades,signos_vitales_peso,signos_vitales_talla,
		signos_vitales_pc,signos_vitales_fc,signos_vitales_fr,
		signos_vitales_taxilar,signos_vitales_oximetria,signos_vitales_imc,
		signos_vitales_sintomaticos_respiratorio,signos_vitales_sintomaticos_piel,signos_vitales_p_e_de,
		signos_vitales_t_e_de,signos_vitales_p_t_de,signos_vitales_pc_e_de,
		tiene_nino_diarrea,vacunales_madre_antitetanica1,vacunales_madre_antitetanica2,
		vacunales_madre_otras_vacunas,vacunales_madre_proxima_vacuna,vacunales_nino_bcg,
		vacunales_nino_hepb1,vacunales_nino_proxima_vacuna,recomendaciones_dadas_volver_de_inmediato,
		volver_consulta_control,volver_consulta_nino_sano,referido_consulta,
		medidas_preventivas_espesificas,recomendaciones_buen_trato,recomendaciones_adecuada_lactancia_materna,
		reconendaciones_adecuada_lactancia_materna_cuales,prestador,codigo_historia_anterior,
		tipo_historia,creacion_date,creacion_user,
		delete_date,delete_user,ultimo_update,
		ultimo_user,observaciones_cuadro1,observaciones_cuadro2,observaciones_cuadro3,observaciones_cuadro4,
		abdomen_enf,cabeza_enf,cuello_enf,toraz_enf,intensidad,actualmente_presenta,caracteristicas_dolor,evolucion,
		fecha_inicio,irradiacion,localizacion,manera_form_inicio,parrafo_enfermedad_actual,relacionado,sintomas_asociados,tratamiento_recibido,primera_presentacion)

		values (#{codigo_empresa},#{codigo_sucursal},
		#{codigo_historia},#{identificacion},#{fecha_inicial},
		#{nro_ingreso},#{nombres_acompanante},#{apellidos_acompanante},
		#{parentesco_acompanante},#{direccion_acompanante},#{telefono_acompanante},
		#{nombres_padre},#{apellidos_padre},#{ocupacion_padre},
		#{edad_padre},#{nombres_madre},#{apellidos_madre},
		#{ocupacion_madre},#{edad_madre},#{motivo_consulta},
		#{enfermedad_actual},#{nino_registrado},#{ant_pat_como_fue_embarazo},
		#{ant_pat_cuanto_duro_embarazo},#{ant_pat_hemoclasificacion},#{ant_pat_como_fue_parto},
		#{ant_pat_cuanto_peso_nacer},#{ant_pat_cuanto_midio_nacer},#{ant_pat_presento_problema_nacer},
		#{ant_pat_enfermedades},#{signos_vitales_peso},#{signos_vitales_talla},
		#{signos_vitales_pc},#{signos_vitales_fc},#{signos_vitales_fr},
		#{signos_vitales_taxilar},#{signos_vitales_oximetria},#{signos_vitales_imc},
		#{signos_vitales_sintomaticos_respiratorio},#{signos_vitales_sintomaticos_piel},#{signos_vitales_p_e_de},
		#{signos_vitales_t_e_de},#{signos_vitales_p_t_de},#{signos_vitales_pc_e_de},
		#{tiene_nino_diarrea},#{vacunales_madre_antitetanica1},#{vacunales_madre_antitetanica2},
		#{vacunales_madre_otras_vacunas},#{vacunales_madre_proxima_vacuna},#{vacunales_nino_bcg},
		#{vacunales_nino_hepb1},#{vacunales_nino_proxima_vacuna},#{recomendaciones_dadas_volver_de_inmediato},
		#{volver_consulta_control},#{volver_consulta_nino_sano},#{referido_consulta},
		#{medidas_preventivas_espesificas},#{recomendaciones_buen_trato},#{recomendaciones_adecuada_lactancia_materna},
		#{reconendaciones_adecuada_lactancia_materna_cuales},#{prestador},#{codigo_historia_anterior},
		#{tipo_historia},#{creacion_date},#{creacion_user},
		#{delete_date},#{delete_user},#{ultimo_update},
		#{ultimo_user},#{observaciones_cuadro1},#{observaciones_cuadro2},#{observaciones_cuadro3},#{observaciones_cuadro4},
		#{abdomen_enf},#{cabeza_enf},#{cuello_enf},#{toraz_enf},#{intensidad},#{actualmente_presenta},#{caracteristicas_dolor},#{evolucion},
		#{fecha_inicio},#{irradiacion},#{localizacion},#{manera_form_inicio},#{parrafo_enfermedad_actual},#{relacionado},#{sintomas_asociados},#{tratamiento_recibido},#{primera_presentacion})
	</insert>

	<update id="actualizar" parameterType="hisc_aiepi_mn_2_meses">
		update public.hisc_aiepi_mn_2_meses set codigo_empresa = #{codigo_empresa},
		codigo_sucursal = #{codigo_sucursal},codigo_historia = #{codigo_historia},
		identificacion = #{identificacion},fecha_inicial = #{fecha_inicial},
		nro_ingreso = #{nro_ingreso},nombres_acompanante = #{nombres_acompanante},
		apellidos_acompanante = #{apellidos_acompanante},parentesco_acompanante = #{parentesco_acompanante},
		direccion_acompanante = #{direccion_acompanante},telefono_acompanante = #{telefono_acompanante},
		nombres_padre = #{nombres_padre},apellidos_padre = #{apellidos_padre},
		ocupacion_padre = #{ocupacion_padre},edad_padre = #{edad_padre},
		nombres_madre = #{nombres_madre},apellidos_madre = #{apellidos_madre},
		ocupacion_madre = #{ocupacion_madre},edad_madre = #{edad_madre},
		motivo_consulta = #{motivo_consulta},enfermedad_actual = #{enfermedad_actual},
		nino_registrado = #{nino_registrado},ant_pat_como_fue_embarazo = #{ant_pat_como_fue_embarazo},
		ant_pat_cuanto_duro_embarazo = #{ant_pat_cuanto_duro_embarazo},ant_pat_hemoclasificacion = #{ant_pat_hemoclasificacion},
		ant_pat_como_fue_parto = #{ant_pat_como_fue_parto},ant_pat_cuanto_peso_nacer = #{ant_pat_cuanto_peso_nacer},
		ant_pat_cuanto_midio_nacer = #{ant_pat_cuanto_midio_nacer},ant_pat_presento_problema_nacer = #{ant_pat_presento_problema_nacer},
		ant_pat_enfermedades = #{ant_pat_enfermedades},signos_vitales_peso = #{signos_vitales_peso},
		signos_vitales_talla = #{signos_vitales_talla},signos_vitales_pc = #{signos_vitales_pc},
		signos_vitales_fc = #{signos_vitales_fc},signos_vitales_fr = #{signos_vitales_fr},
		signos_vitales_taxilar = #{signos_vitales_taxilar},signos_vitales_oximetria = #{signos_vitales_oximetria},
		signos_vitales_imc = #{signos_vitales_imc},signos_vitales_sintomaticos_respiratorio = #{signos_vitales_sintomaticos_respiratorio},
		signos_vitales_sintomaticos_piel = #{signos_vitales_sintomaticos_piel},signos_vitales_p_e_de = #{signos_vitales_p_e_de},
		signos_vitales_t_e_de = #{signos_vitales_t_e_de},signos_vitales_p_t_de = #{signos_vitales_p_t_de},
		signos_vitales_pc_e_de = #{signos_vitales_pc_e_de},tiene_nino_diarrea = #{tiene_nino_diarrea},
		vacunales_madre_antitetanica1 = #{vacunales_madre_antitetanica1},vacunales_madre_antitetanica2 = #{vacunales_madre_antitetanica2},
		vacunales_madre_otras_vacunas = #{vacunales_madre_otras_vacunas},vacunales_madre_proxima_vacuna = #{vacunales_madre_proxima_vacuna},
		vacunales_nino_bcg = #{vacunales_nino_bcg},vacunales_nino_hepb1 = #{vacunales_nino_hepb1},
		vacunales_nino_proxima_vacuna = #{vacunales_nino_proxima_vacuna},recomendaciones_dadas_volver_de_inmediato = #{recomendaciones_dadas_volver_de_inmediato},
		volver_consulta_control = #{volver_consulta_control},volver_consulta_nino_sano = #{volver_consulta_nino_sano},
		referido_consulta = #{referido_consulta},medidas_preventivas_espesificas = #{medidas_preventivas_espesificas},
		recomendaciones_buen_trato = #{recomendaciones_buen_trato},recomendaciones_adecuada_lactancia_materna = #{recomendaciones_adecuada_lactancia_materna},
		reconendaciones_adecuada_lactancia_materna_cuales = #{reconendaciones_adecuada_lactancia_materna_cuales},prestador = #{prestador},
		codigo_historia_anterior = #{codigo_historia_anterior},tipo_historia = #{tipo_historia},
		creacion_date = #{creacion_date},creacion_user = #{creacion_user},
		delete_date = #{delete_date},delete_user = #{delete_user},
		ultimo_update = #{ultimo_update},ultimo_user = #{ultimo_user},
		observaciones_cuadro1 = #{observaciones_cuadro1},
		observaciones_cuadro2 = #{observaciones_cuadro2},
		observaciones_cuadro3 = #{observaciones_cuadro3},
		observaciones_cuadro4 = #{observaciones_cuadro4},
		abdomen_enf = #{abdomen_enf},
		cabeza_enf = #{cabeza_enf},
		cuello_enf = #{cuello_enf},
		toraz_enf = #{toraz_enf},
		intensidad = #{intensidad},
		actualmente_presenta = #{actualmente_presenta},
		caracteristicas_dolor = #{caracteristicas_dolor},
		evolucion = #{evolucion},
		fecha_inicio = #{fecha_inicio},
		irradiacion = #{irradiacion},
		localizacion = #{localizacion},
		manera_form_inicio = #{manera_form_inicio},
		parrafo_enfermedad_actual = #{parrafo_enfermedad_actual},
		relacionado = #{relacionado},
		sintomas_asociados = #{sintomas_asociados},
		tratamiento_recibido = #{tratamiento_recibido},
		primera_presentacion = #{primera_presentacion}
		where 		codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		and codigo_historia = #{codigo_historia}
	</update>

	<select id="consultar" parameterType="hisc_aiepi_mn_2_meses" resultMap="hisc_aiepi_mn_2_mesesMap">
		select codigo_empresa,codigo_sucursal,
		codigo_historia,identificacion,fecha_inicial,nro_ingreso,
		nombres_acompanante,apellidos_acompanante,parentesco_acompanante,direccion_acompanante,
		telefono_acompanante,nombres_padre,apellidos_padre,ocupacion_padre,
		edad_padre,nombres_madre,apellidos_madre,ocupacion_madre,
		edad_madre,motivo_consulta,enfermedad_actual,nino_registrado,
		ant_pat_como_fue_embarazo,ant_pat_cuanto_duro_embarazo,ant_pat_hemoclasificacion,ant_pat_como_fue_parto,
		ant_pat_cuanto_peso_nacer,ant_pat_cuanto_midio_nacer,ant_pat_presento_problema_nacer,ant_pat_enfermedades,
		signos_vitales_peso,signos_vitales_talla,signos_vitales_pc,signos_vitales_fc,
		signos_vitales_fr,signos_vitales_taxilar,signos_vitales_oximetria,signos_vitales_imc,
		signos_vitales_sintomaticos_respiratorio,signos_vitales_sintomaticos_piel,signos_vitales_p_e_de,signos_vitales_t_e_de,
		signos_vitales_p_t_de,signos_vitales_pc_e_de,tiene_nino_diarrea,vacunales_madre_antitetanica1,
		vacunales_madre_antitetanica2,vacunales_madre_otras_vacunas,vacunales_madre_proxima_vacuna,vacunales_nino_bcg,
		vacunales_nino_hepb1,vacunales_nino_proxima_vacuna,recomendaciones_dadas_volver_de_inmediato,volver_consulta_control,
		volver_consulta_nino_sano,referido_consulta,medidas_preventivas_espesificas,recomendaciones_buen_trato,
		recomendaciones_adecuada_lactancia_materna,reconendaciones_adecuada_lactancia_materna_cuales,prestador,codigo_historia_anterior,
		tipo_historia,creacion_date,creacion_user,delete_date,
		delete_user,ultimo_update,ultimo_user,
		observaciones_cuadro1,observaciones_cuadro2,observaciones_cuadro3,observaciones_cuadro4,
		abdomen_enf,cabeza_enf,cuello_enf,toraz_enf,intensidad,actualmente_presenta,caracteristicas_dolor,evolucion,
		fecha_inicio,irradiacion,localizacion,manera_form_inicio,parrafo_enfermedad_actual,relacionado,sintomas_asociados,tratamiento_recibido,primera_presentacion
		from public.hisc_aiepi_mn_2_meses where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal}
		<if test="codigo_historia != null">
			and codigo_historia =
			#{codigo_historia}
		</if>
		<if test="identificacion != null">
			and identificacion =
			#{identificacion}
		</if>
		<if test="nro_ingreso != null">
			and nro_ingreso = #{nro_ingreso}
		</if>
	</select>

	<delete id="eliminar" parameterType="hisc_aiepi_mn_2_meses">
		delete from public.hisc_aiepi_mn_2_meses
		where codigo_empresa = #{codigo_empresa} and codigo_sucursal = #{codigo_sucursal} and codigo_historia = #{codigo_historia}
	</delete>

	<select id="listar" parameterType="java.util.Map" resultMap="hisc_aiepi_mn_2_mesesMap">
		select codigo_empresa,codigo_sucursal,
		codigo_historia,identificacion,fecha_inicial,nro_ingreso,
		nombres_acompanante,apellidos_acompanante,parentesco_acompanante,direccion_acompanante,
		telefono_acompanante,nombres_padre,apellidos_padre,ocupacion_padre,
		edad_padre,nombres_madre,apellidos_madre,ocupacion_madre,
		edad_madre,motivo_consulta,enfermedad_actual,nino_registrado,
		ant_pat_como_fue_embarazo,ant_pat_cuanto_duro_embarazo,ant_pat_hemoclasificacion,ant_pat_como_fue_parto,
		ant_pat_cuanto_peso_nacer,ant_pat_cuanto_midio_nacer,ant_pat_presento_problema_nacer,ant_pat_enfermedades,
		signos_vitales_peso,signos_vitales_talla,signos_vitales_pc,signos_vitales_fc,
		signos_vitales_fr,signos_vitales_taxilar,signos_vitales_oximetria,signos_vitales_imc,
		signos_vitales_sintomaticos_respiratorio,signos_vitales_sintomaticos_piel,signos_vitales_p_e_de,signos_vitales_t_e_de,
		signos_vitales_p_t_de,signos_vitales_pc_e_de,tiene_nino_diarrea,vacunales_madre_antitetanica1,
		vacunales_madre_antitetanica2,vacunales_madre_otras_vacunas,vacunales_madre_proxima_vacuna,vacunales_nino_bcg,
		vacunales_nino_hepb1,vacunales_nino_proxima_vacuna,recomendaciones_dadas_volver_de_inmediato,volver_consulta_control,
		volver_consulta_nino_sano,referido_consulta,medidas_preventivas_espesificas,recomendaciones_buen_trato,
		recomendaciones_adecuada_lactancia_materna,reconendaciones_adecuada_lactancia_materna_cuales,prestador,codigo_historia_anterior,
		tipo_historia,creacion_date,creacion_user,delete_date,
		delete_user,ultimo_update,ultimo_user,
		observaciones_cuadro1,observaciones_cuadro2,observaciones_cuadro3,observaciones_cuadro4,
		abdomen_enf,cabeza_enf,cuello_enf,toraz_enf,intensidad,actualmente_presenta,caracteristicas_dolor,
		evolucion,fecha_inicio,irradiacion,localizacion,manera_form_inicio,parrafo_enfermedad_actual,relacionado,
		sintomas_asociados,tratamiento_recibido,primera_presentacion
		from public.hisc_aiepi_mn_2_meses 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limite_paginado != null">
			${limite_paginado}
		</if>
	</select>

	<select id="existe" resultType="java.lang.Boolean">
		select count(1) != 0 AS exist 		from public.hisc_aiepi_mn_2_meses 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>
	<select id="total_registros" parameterType="java.util.Map" resultType="java.lang.Integer">
		select count(1)	from public.hisc_aiepi_mn_2_meses a
			inner join paciente p on (p.codigo_empresa = a.codigo_empresa
			and p.codigo_sucursal = a.codigo_sucursal and p.nro_identificacion = a.identificacion)
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">AND a.codigo_empresa = #{codigo_empresa}</if>
			<if test="codigo_sucursal != null">AND a.codigo_sucursal = #{codigo_sucursal}</if>
			<if test="identificacion != null">AND a.identificacion = #{identificacion}</if>
			<if test="fecha_string != null">AND to_char(a.fecha_inicial, 'yyyy-MM-dd') like '%${fecha_string}%'</if>
			<if test="tipo_historia != null">AND a.tipo_historia = #{tipo_historia}</if>
			<if test="parameter != null">AND ${parameter} like '${value}'</if>
		</trim>
		<if test="order_desc">order by cast(codigo_historia as integer) desc</if>
	</select>
</mapper>
