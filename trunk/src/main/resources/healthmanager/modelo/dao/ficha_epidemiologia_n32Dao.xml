<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="healthmanager.modelo.dao.Ficha_epidemiologia_n32Dao">

	<!--<typeAlias alias="ficha_epidemiologia_n32" type="healthmanager.modelo.bean.Ficha_epidemiologia_n32" />-->

	<!--<mapper resource="healthmanager/modelo/dao/xml/ficha_epidemiologia_n32SQL.xml" />-->

	<resultMap id="ficha_epidemiologia_n32Map" type="ficha_epidemiologia_n32">
		<result column="codigo_ficha" property="codigo_ficha" />
		<result column="fecha_ficha" property="fecha_ficha" />
		<result column="codigo_empresa" property="codigo_empresa" />
		<result column="codigo_sucursal" property="codigo_sucursal" />
		<result column="nro_identificacion" property="nro_identificacion" />
		<result column="codigo" property="codigo" />
		<result column="tipo_de_tuberculosis" property="tipo_de_tuberculosis" />
		<result column="localizacion_de_la_tuberculosis" property="localizacion_de_la_tuberculosis" />
		<result column="cual_otra_localizacion" property="cual_otra_localizacion" />
		<result column="segun_antecedente_de_tratamiento" property="segun_antecedente_de_tratamiento" />
		<result column="segun_tipo_de_medicamento_recibido" property="segun_tipo_de_medicamento_recibido" />
		<result column="segun_condicion_de_ingreso" property="segun_condicion_de_ingreso" />
		<result column="bacteriologico" property="bacteriologico" />
		<result column="clinico" property="clinico" />
		<result column="nexo_epidemiologico" property="nexo_epidemiologico" />
		<result column="radiologico" property="radiologico" />
		<result column="fecha_de_confirmacion_del_caso" property="fecha_de_confirmacion_del_caso" />
		<result column="realiza_bacilosopia" property="realiza_bacilosopia" />
		<result column="resultado_bk" property="resultado_bk" />
		<result column="fecha_de_resultado" property="fecha_de_resultado" />
		<result column="laboratorio_que_realiza_baciloscopia" property="laboratorio_que_realiza_baciloscopia" />
		<result column="realiza_cultivo" property="realiza_cultivo" />
		<result column="fecha_de_siembra" property="fecha_de_siembra" />
		<result column="fecha_de_resultado_1" property="fecha_de_resultado_1" />
		<result column="resultado_de_cultivo" property="resultado_de_cultivo" />
		<result column="especie_identificada" property="especie_identificada" />
		<result column="laboratorio_que_realiza_cultivo" property="laboratorio_que_realiza_cultivo" />
		<result column="laboratorio_que_realiza_identificacion" property="laboratorio_que_realiza_identificacion" />
		<result column="realizo_prueba_de_sensibilidad_a_farmacos" property="realizo_prueba_de_sensibilidad_a_farmacos" />
		<result column="laboratorio_que_realiza_la_psf" property="laboratorio_que_realiza_la_psf" />
		<result column="fecha_resultado_psf" property="fecha_resultado_psf" />
		<result column="resultado_prueba_de_sensibilidad_a_farmacos_psf" property="resultado_prueba_de_sensibilidad_a_farmacos_psf" />
		<result column="realiza_psfde_primera" property="realiza_psfde_primera" />
		<result column="estreptomicina" property="estreptomicina" />
		<result column="isoniazida" property="isoniazida" />
		<result column="rifampicina" property="rifampicina" />
		<result column="etambutol" property="etambutol" />
		<result column="pirazinamida" property="pirazinamida" />
		<result column="realiza_psf_de_segunda_linea" property="realiza_psf_de_segunda_linea" />
		<result column="etionamida" property="etionamida" />
		<result column="levofloxacina" property="levofloxacina" />
		<result column="amikacina" property="amikacina" />
		<result column="otro_medicamento_segunda_linea" property="otro_medicamento_segunda_linea" />
		<result column="cicloserina" property="cicloserina" />
		<result column="moxifloxacina" property="moxifloxacina" />
		<result column="kanamicina" property="kanamicina" />
		<result column="otro_cual_resultado_psf_primera_linea" property="otro_cual_resultado_psf_primera_linea" />
		<result column="acido_paramino_salicilico" property="acido_paramino_salicilico" />
		<result column="ofloxacina" property="ofloxacina" />
		<result column="capreomicina" property="capreomicina" />
		<result column="clasificacion_de_caso_segun_tipo_de_resistencia" property="clasificacion_de_caso_segun_tipo_de_resistencia" />
		<result column="nitrato_reductasa" property="nitrato_reductasa" />
		<result column="proporciones_lj" property="proporciones_lj" />
		<result column="bactec_mgit_960" property="bactec_mgit_960" />
		<result column="proporciones_en_agar" property="proporciones_en_agar" />
		<result column="prueba_molecular" property="prueba_molecular" />
		<result column="nombre_de_la_prueba_molecular" property="nombre_de_la_prueba_molecular" />
		<result column="factores_de_riesgo" property="factores_de_riesgo" />
		<result column="contacto_con_paciente_farmacorresistente" property="contacto_con_paciente_farmacorresistente" />
		<result column="farmacodependencia" property="farmacodependencia" />
		<result column="habitante_de_calle" property="habitante_de_calle" />
		<result column="otros_factores_inmunosupresores" property="otros_factores_inmunosupresores" />
		<result column="tratamiento_irregular_por_mas_de_un_mes" property="tratamiento_irregular_por_mas_de_un_mes" />
		<result column="ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente" property="ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente" />
		<result column="tratamiento_con_menos_de_tres_medicamentos" property="tratamiento_con_menos_de_tres_medicamentos" />
		<result column="otro_factor_risgo" property="otro_factor_risgo" />
		<result column="cual_otro_factor_riesgo" property="cual_otro_factor_riesgo" />
		<result column="coomorbilidades" property="coomorbilidades" />
		<result column="diabetes" property="diabetes" />
		<result column="silicosis" property="silicosis" />
		<result column="efermedad_renal" property="efermedad_renal" />
		<result column="epoc" property="epoc" />
		<result column="enfermedad_hepatica" property="enfermedad_hepatica" />
		<result column="cancer" property="cancer" />
		<result column="artritis_rematoide" property="artritis_rematoide" />
		<result column="desnutricion" property="desnutricion" />
		<result column="vhi_sida" property="vhi_sida" />
		<result column="otra_coomorbilidades" property="otra_coomorbilidades" />
		<result column="cual_otra_coomorbilidades" property="cual_otra_coomorbilidades" />
		<result column="creacion_date" property="creacion_date" />
		<result column="ultimo_update" property="ultimo_update" />
		<result column="delete_date" property="delete_date" />
		<result column="ultimo_user" property="ultimo_user" />
		<result column="delete_use" property="delete_use" />
		<result column="creacion_user" property="creacion_user" />
		<result column="via_ingreso" property="via_ingreso" />
		<result column="codigo_historia" property="codigo_historia" />
	</resultMap>

	<insert id="crear" parameterType="ficha_epidemiologia_n32">
		insert into public.ficha_epidemiologia_n32 (codigo_ficha,fecha_ficha,
		codigo_empresa,codigo_sucursal,nro_identificacion,
		codigo,tipo_de_tuberculosis,localizacion_de_la_tuberculosis,
		cual_otra_localizacion,segun_antecedente_de_tratamiento,segun_tipo_de_medicamento_recibido,
		segun_condicion_de_ingreso,bacteriologico,clinico,
		nexo_epidemiologico,radiologico,fecha_de_confirmacion_del_caso,
		realiza_bacilosopia,resultado_bk,fecha_de_resultado,
		laboratorio_que_realiza_baciloscopia,realiza_cultivo,fecha_de_siembra,
		fecha_de_resultado_1,resultado_de_cultivo,especie_identificada,
		laboratorio_que_realiza_cultivo,laboratorio_que_realiza_identificacion,realizo_prueba_de_sensibilidad_a_farmacos,
		laboratorio_que_realiza_la_psf,fecha_resultado_psf,resultado_prueba_de_sensibilidad_a_farmacos_psf,
		realiza_psfde_primera,estreptomicina,isoniazida,
		rifampicina,etambutol,pirazinamida,
		realiza_psf_de_segunda_linea,etionamida,levofloxacina,
		amikacina,otro_medicamento_segunda_linea,cicloserina,
		moxifloxacina,kanamicina,otro_cual_resultado_psf_primera_linea,
		acido_paramino_salicilico,ofloxacina,capreomicina,
		clasificacion_de_caso_segun_tipo_de_resistencia,nitrato_reductasa,proporciones_lj,
		bactec_mgit_960,proporciones_en_agar,prueba_molecular,
		nombre_de_la_prueba_molecular,factores_de_riesgo,contacto_con_paciente_farmacorresistente,
		farmacodependencia,habitante_de_calle,otros_factores_inmunosupresores,
		tratamiento_irregular_por_mas_de_un_mes,ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente,tratamiento_con_menos_de_tres_medicamentos,
		otro_factor_risgo,cual_otro_factor_riesgo,coomorbilidades,
		diabetes,silicosis,efermedad_renal,
		epoc,enfermedad_hepatica,cancer,
		artritis_rematoide,desnutricion,vhi_sida,
		otra_coomorbilidades,cual_otra_coomorbilidades,creacion_date,
		ultimo_update,delete_date,ultimo_user,
		delete_use,creacion_user,via_ingreso,
		codigo_historia)

		values (#{codigo_ficha},#{fecha_ficha},
		#{codigo_empresa},#{codigo_sucursal},#{nro_identificacion},
		#{codigo},#{tipo_de_tuberculosis},#{localizacion_de_la_tuberculosis},
		#{cual_otra_localizacion},#{segun_antecedente_de_tratamiento},#{segun_tipo_de_medicamento_recibido},
		#{segun_condicion_de_ingreso},#{bacteriologico},#{clinico},
		#{nexo_epidemiologico},#{radiologico},#{fecha_de_confirmacion_del_caso},
		#{realiza_bacilosopia},#{resultado_bk},#{fecha_de_resultado},
		#{laboratorio_que_realiza_baciloscopia},#{realiza_cultivo},#{fecha_de_siembra},
		#{fecha_de_resultado_1},#{resultado_de_cultivo},#{especie_identificada},
		#{laboratorio_que_realiza_cultivo},#{laboratorio_que_realiza_identificacion},#{realizo_prueba_de_sensibilidad_a_farmacos},
		#{laboratorio_que_realiza_la_psf},#{fecha_resultado_psf},#{resultado_prueba_de_sensibilidad_a_farmacos_psf},
		#{realiza_psfde_primera},#{estreptomicina},#{isoniazida},
		#{rifampicina},#{etambutol},#{pirazinamida},
		#{realiza_psf_de_segunda_linea},#{etionamida},#{levofloxacina},
		#{amikacina},#{otro_medicamento_segunda_linea},#{cicloserina},
		#{moxifloxacina},#{kanamicina},#{otro_cual_resultado_psf_primera_linea},
		#{acido_paramino_salicilico},#{ofloxacina},#{capreomicina},
		#{clasificacion_de_caso_segun_tipo_de_resistencia},#{nitrato_reductasa},#{proporciones_lj},
		#{bactec_mgit_960},#{proporciones_en_agar},#{prueba_molecular},
		#{nombre_de_la_prueba_molecular},#{factores_de_riesgo},#{contacto_con_paciente_farmacorresistente},
		#{farmacodependencia},#{habitante_de_calle},#{otros_factores_inmunosupresores},
		#{tratamiento_irregular_por_mas_de_un_mes},#{ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente},#{tratamiento_con_menos_de_tres_medicamentos},
		#{otro_factor_risgo},#{cual_otro_factor_riesgo},#{coomorbilidades},
		#{diabetes},#{silicosis},#{efermedad_renal},
		#{epoc},#{enfermedad_hepatica},#{cancer},
		#{artritis_rematoide},#{desnutricion},#{vhi_sida},
		#{otra_coomorbilidades},#{cual_otra_coomorbilidades},#{creacion_date},
		#{ultimo_update},#{delete_date},#{ultimo_user},
		#{delete_use},#{creacion_user},#{via_ingreso},
		#{codigo_historia})
	</insert>

	<update id="actualizar" parameterType="ficha_epidemiologia_n32">
		update public.ficha_epidemiologia_n32 set codigo_ficha = #{codigo_ficha},
		fecha_ficha = #{fecha_ficha},codigo_empresa = #{codigo_empresa},
		codigo_sucursal = #{codigo_sucursal},nro_identificacion = #{nro_identificacion},
		codigo = #{codigo},tipo_de_tuberculosis = #{tipo_de_tuberculosis},
		localizacion_de_la_tuberculosis = #{localizacion_de_la_tuberculosis},cual_otra_localizacion = #{cual_otra_localizacion},
		segun_antecedente_de_tratamiento = #{segun_antecedente_de_tratamiento},segun_tipo_de_medicamento_recibido = #{segun_tipo_de_medicamento_recibido},
		segun_condicion_de_ingreso = #{segun_condicion_de_ingreso},bacteriologico = #{bacteriologico},
		clinico = #{clinico},nexo_epidemiologico = #{nexo_epidemiologico},
		radiologico = #{radiologico},fecha_de_confirmacion_del_caso = #{fecha_de_confirmacion_del_caso},
		realiza_bacilosopia = #{realiza_bacilosopia},resultado_bk = #{resultado_bk},
		fecha_de_resultado = #{fecha_de_resultado},laboratorio_que_realiza_baciloscopia = #{laboratorio_que_realiza_baciloscopia},
		realiza_cultivo = #{realiza_cultivo},fecha_de_siembra = #{fecha_de_siembra},
		fecha_de_resultado_1 = #{fecha_de_resultado_1},resultado_de_cultivo = #{resultado_de_cultivo},
		especie_identificada = #{especie_identificada},laboratorio_que_realiza_cultivo = #{laboratorio_que_realiza_cultivo},
		laboratorio_que_realiza_identificacion = #{laboratorio_que_realiza_identificacion},realizo_prueba_de_sensibilidad_a_farmacos = #{realizo_prueba_de_sensibilidad_a_farmacos},
		laboratorio_que_realiza_la_psf = #{laboratorio_que_realiza_la_psf},fecha_resultado_psf = #{fecha_resultado_psf},
		resultado_prueba_de_sensibilidad_a_farmacos_psf = #{resultado_prueba_de_sensibilidad_a_farmacos_psf},realiza_psfde_primera = #{realiza_psfde_primera},
		estreptomicina = #{estreptomicina},isoniazida = #{isoniazida},
		rifampicina = #{rifampicina},etambutol = #{etambutol},
		pirazinamida = #{pirazinamida},realiza_psf_de_segunda_linea = #{realiza_psf_de_segunda_linea},
		etionamida = #{etionamida},levofloxacina = #{levofloxacina},
		amikacina = #{amikacina},otro_medicamento_segunda_linea = #{otro_medicamento_segunda_linea},
		cicloserina = #{cicloserina},moxifloxacina = #{moxifloxacina},
		kanamicina = #{kanamicina},otro_cual_resultado_psf_primera_linea = #{otro_cual_resultado_psf_primera_linea},
		acido_paramino_salicilico = #{acido_paramino_salicilico},ofloxacina = #{ofloxacina},
		capreomicina = #{capreomicina},clasificacion_de_caso_segun_tipo_de_resistencia = #{clasificacion_de_caso_segun_tipo_de_resistencia},
		nitrato_reductasa = #{nitrato_reductasa},proporciones_lj = #{proporciones_lj},
		bactec_mgit_960 = #{bactec_mgit_960},proporciones_en_agar = #{proporciones_en_agar},
		prueba_molecular = #{prueba_molecular},nombre_de_la_prueba_molecular = #{nombre_de_la_prueba_molecular},
		factores_de_riesgo = #{factores_de_riesgo},contacto_con_paciente_farmacorresistente = #{contacto_con_paciente_farmacorresistente},
		farmacodependencia = #{farmacodependencia},habitante_de_calle = #{habitante_de_calle},
		otros_factores_inmunosupresores = #{otros_factores_inmunosupresores},tratamiento_irregular_por_mas_de_un_mes = #{tratamiento_irregular_por_mas_de_un_mes},
		ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente = #{ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente},tratamiento_con_menos_de_tres_medicamentos = #{tratamiento_con_menos_de_tres_medicamentos},
		otro_factor_risgo = #{otro_factor_risgo},cual_otro_factor_riesgo = #{cual_otro_factor_riesgo},
		coomorbilidades = #{coomorbilidades},diabetes = #{diabetes},
		silicosis = #{silicosis},efermedad_renal = #{efermedad_renal},
		epoc = #{epoc},enfermedad_hepatica = #{enfermedad_hepatica},
		cancer = #{cancer},artritis_rematoide = #{artritis_rematoide},
		desnutricion = #{desnutricion},vhi_sida = #{vhi_sida},
		otra_coomorbilidades = #{otra_coomorbilidades},cual_otra_coomorbilidades = #{cual_otra_coomorbilidades},
		creacion_date = #{creacion_date},ultimo_update = #{ultimo_update},
		delete_date = #{delete_date},ultimo_user = #{ultimo_user},
		delete_use = #{delete_use},creacion_user = #{creacion_user},
		via_ingreso = #{via_ingreso},codigo_historia = #{codigo_historia}
		where codigo_ficha = #{codigo_ficha}
	</update>

	<select id="consultar" parameterType="ficha_epidemiologia_n32" resultMap="ficha_epidemiologia_n32Map">
		select codigo_ficha,fecha_ficha,
		codigo_empresa,codigo_sucursal,nro_identificacion,codigo,
		tipo_de_tuberculosis,localizacion_de_la_tuberculosis,cual_otra_localizacion,segun_antecedente_de_tratamiento,
		segun_tipo_de_medicamento_recibido,segun_condicion_de_ingreso,bacteriologico,clinico,
		nexo_epidemiologico,radiologico,fecha_de_confirmacion_del_caso,realiza_bacilosopia,
		resultado_bk,fecha_de_resultado,laboratorio_que_realiza_baciloscopia,realiza_cultivo,
		fecha_de_siembra,fecha_de_resultado_1,resultado_de_cultivo,especie_identificada,
		laboratorio_que_realiza_cultivo,laboratorio_que_realiza_identificacion,realizo_prueba_de_sensibilidad_a_farmacos,laboratorio_que_realiza_la_psf,
		fecha_resultado_psf,resultado_prueba_de_sensibilidad_a_farmacos_psf,realiza_psfde_primera,estreptomicina,
		isoniazida,rifampicina,etambutol,pirazinamida,
		realiza_psf_de_segunda_linea,etionamida,levofloxacina,amikacina,
		otro_medicamento_segunda_linea,cicloserina,moxifloxacina,kanamicina,
		otro_cual_resultado_psf_primera_linea,acido_paramino_salicilico,ofloxacina,capreomicina,
		clasificacion_de_caso_segun_tipo_de_resistencia,nitrato_reductasa,proporciones_lj,bactec_mgit_960,
		proporciones_en_agar,prueba_molecular,nombre_de_la_prueba_molecular,factores_de_riesgo,
		contacto_con_paciente_farmacorresistente,farmacodependencia,habitante_de_calle,otros_factores_inmunosupresores,
		tratamiento_irregular_por_mas_de_un_mes,ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente,tratamiento_con_menos_de_tres_medicamentos,otro_factor_risgo,
		cual_otro_factor_riesgo,coomorbilidades,diabetes,silicosis,
		efermedad_renal,epoc,enfermedad_hepatica,cancer,
		artritis_rematoide,desnutricion,vhi_sida,otra_coomorbilidades,
		cual_otra_coomorbilidades,creacion_date,ultimo_update,delete_date,
		ultimo_user,delete_use,creacion_user,via_ingreso,
		codigo_historia
		from public.ficha_epidemiologia_n32 where codigo_empresa = #{codigo_empresa}
		and codigo_sucursal = #{codigo_sucursal} and codigo_ficha = #{codigo_ficha}
	</select>

	<delete id="eliminar" parameterType="ficha_epidemiologia_n32">
		delete from public.ficha_epidemiologia_n32
		where codigo_ficha = #{codigo_ficha}
	</delete>

	<select id="listar" parameterType="java.util.Map" resultMap="ficha_epidemiologia_n32Map">
		select codigo_ficha,fecha_ficha,
		codigo_empresa,codigo_sucursal,nro_identificacion,codigo,
		tipo_de_tuberculosis,localizacion_de_la_tuberculosis,cual_otra_localizacion,segun_antecedente_de_tratamiento,
		segun_tipo_de_medicamento_recibido,segun_condicion_de_ingreso,bacteriologico,clinico,
		nexo_epidemiologico,radiologico,fecha_de_confirmacion_del_caso,realiza_bacilosopia,
		resultado_bk,fecha_de_resultado,laboratorio_que_realiza_baciloscopia,realiza_cultivo,
		fecha_de_siembra,fecha_de_resultado_1,resultado_de_cultivo,especie_identificada,
		laboratorio_que_realiza_cultivo,laboratorio_que_realiza_identificacion,realizo_prueba_de_sensibilidad_a_farmacos,laboratorio_que_realiza_la_psf,
		fecha_resultado_psf,resultado_prueba_de_sensibilidad_a_farmacos_psf,realiza_psfde_primera,estreptomicina,
		isoniazida,rifampicina,etambutol,pirazinamida,
		realiza_psf_de_segunda_linea,etionamida,levofloxacina,amikacina,
		otro_medicamento_segunda_linea,cicloserina,moxifloxacina,kanamicina,
		otro_cual_resultado_psf_primera_linea,acido_paramino_salicilico,ofloxacina,capreomicina,
		clasificacion_de_caso_segun_tipo_de_resistencia,nitrato_reductasa,proporciones_lj,bactec_mgit_960,
		proporciones_en_agar,prueba_molecular,nombre_de_la_prueba_molecular,factores_de_riesgo,
		contacto_con_paciente_farmacorresistente,farmacodependencia,habitante_de_calle,otros_factores_inmunosupresores,
		tratamiento_irregular_por_mas_de_un_mes,ha_vivido_en_areas_de_alta_carga_de_tb_farmacorresistente,tratamiento_con_menos_de_tres_medicamentos,otro_factor_risgo,
		cual_otro_factor_riesgo,coomorbilidades,diabetes,silicosis,
		efermedad_renal,epoc,enfermedad_hepatica,cancer,
		artritis_rematoide,desnutricion,vhi_sida,otra_coomorbilidades,
		cual_otra_coomorbilidades,creacion_date,ultimo_update,delete_date,
		ultimo_user,delete_use,creacion_user,via_ingreso,
		codigo_historia
		from public.ficha_epidemiologia_n32 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="nro_identificacion != null">
			AND nro_identificacion = #{nro_identificacion}
			</if>
			<if test="codigo != null">
			AND codigo = #{codigo}
			</if>
			<if test="codigo_historia != null">
			AND codigo_historia = #{codigo_historia}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

	<select id="existe" resultType="java.lang.Boolean">
		select count(1) != 0 AS exist 		from public.ficha_epidemiologia_n32 
		<trim prefix="WHERE" prefixOverrides="AND |OR ">
			<if test="codigo_empresa != null">
			AND codigo_empresa = #{codigo_empresa}
			</if>
			<if test="codigo_sucursal != null">
			AND codigo_sucursal = #{codigo_sucursal}
			</if>
			<if test="parameter != null">
			AND ${parameter} like '${value}'
			</if>
		</trim>
		<if test="limit != null">
		${limit}
		</if>
	</select>

</mapper>
